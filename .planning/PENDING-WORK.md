# BuyGo LINE Notify - 未完成工作清單

**最後更新:** 2026-01-31
**當前進度:** 75% (v0.2 Milestone)

---

## 專案狀態

### ✅ 已完成

| Milestone | Phase | 名稱 | 狀態 |
|-----------|-------|------|------|
| v0.1 | 1 | 基礎設施與設定 | ✅ 完成 |
| v0.1 | 2 | Webhook 系統 | ✅ 完成 |
| v0.2 | 8 | 資料表架構與查詢 API | ✅ 完成 |
| v0.2 | 9 | 標準 WordPress URL 機制 | ✅ 完成 |
| v0.2 | 10 | Register Flow Page 系統 | ✅ 完成 |
| v0.2 | 11 | 完整註冊/登入/綁定流程 | ✅ 完成 (1/2 plans) |
| v0.2 | 12 | Profile Sync 與 Avatar 整合 | ✅ 完成 (已在另一 session 執行) |
| v0.2 | 13 | 前台整合 | ✅ 完成 (已在另一 session 執行) |
| v0.2 | 14 | 後台管理 (Webhook) | ✅ 完成 (2 plans) |
| v0.2 | 15 | LINE Login 系統 | ✅ 完成 (4 plans) |

### 🔄 進行中 / 待完成

根據 ROADMAP.md 和 STATE.md，以下工作尚未完成：

| Milestone | Phase | 名稱 | 狀態 | 需要的工作 |
|-----------|-------|------|------|------------|
| v0.2 | 11 | 完整註冊/登入/綁定流程 | 🔄 部分完成 | 11-02 流程驗證 checkpoint |
| v0.2 | 12 | Profile Sync 與 Avatar | 🔄 需規劃 | 4 個 plans 待建立 |
| v0.2 | 13 | 前台整合 | 🔄 需規劃 | Plans TBD |
| v0.2 | 14 | 後台管理 | 🔄 部分完成 | LINE Login 設定頁面整合待完成 |
| v0.2 | 15 | 測試與文件 | 🔄 需規劃 | Plans TBD |

---

## 待完成工作詳情

### Phase 11: 完整註冊/登入/綁定流程 (1/2 plans complete)

**已完成:**
- 11-01: handle_link_submission() + handle_callback() 綁定流程判斷

**待完成:**
- 11-02: 流程驗證 checkpoint（四個流程場景測試）
  - 新用戶註冊流程
  - Auto-link 流程（Email 已存在）
  - 已登入綁定流程
  - 已註冊用戶 LINE Login 流程

### Phase 12: Profile Sync 與 Avatar 整合 (0/4 plans)

**Requirements:** SYNC-01~05, AVATAR-01~05

**待建立 Plans:**
- 12-01: ProfileSyncService 核心實作（syncProfile, shouldUpdateField, logSync）
- 12-02: AvatarService 實作 + get_avatar_url filter hook
- 12-03: 整合 ProfileSyncService 到 UserService 和 Login_Handler
- 12-04: 後台設定頁面（sync_on_login, conflict_strategy, 清除快取）

### Phase 13: 前台整合 (TBD)

**Requirements:** FRONTEND-01~05

**Success Criteria:**
1. wp-login.php 顯示「使用 LINE 登入」按鈕
2. 我的帳號頁面顯示 LINE 綁定狀態
3. `[buygo_line_login]` shortcode 可用
4. 按鈕樣式符合 LINE 官方規範
5. 登入/綁定成功後正確導向

### Phase 14: 後台管理 (2/? plans)

**已完成:**
- 14-01: Webhook_API + WebhookHandler
- 14-03: Plugin 整合並進行 LINE Console 驗證

**Requirements:** BACKEND-01~05

**待完成工作:**
1. LINE Login Channel ID/Secret 欄位
2. Redirect URI 顯示（含複製按鈕）
3. Register Flow Page 選擇器
4. Profile Sync 設定
5. 用戶列表「LINE 綁定」欄位
6. 除錯工具頁面

### Phase 15: 測試與文件 (4 plans complete, 但標記為另一專案)

**注意:** STATE.md 顯示 Phase 15 已有 4 個 plans 完成，但這些是由另一個 Claude session 執行的 LINE Login 系統相關工作，而非測試與文件。

**Requirements:** TEST-01~04, DOC-01~03

**待完成工作:**
1. 註冊流程單元測試
2. 綁定流程單元測試
3. Profile Sync 測試
4. Avatar 整合測試
5. 使用文件
6. 架構文件
7. API 文件

---

## 使用者確認事項

根據之前的對話，使用者確認：

> "buygo-line-notify 是要跟 buygo-plus-one-dev 結合就好，buygo-line-notify 他是接受跟發送，還有line登入的功能就好。"

> "對，以果 buygo-line-notify 單一工作他能正常工作不會有技術債"

**結論:**
- buygo-line-notify 的核心功能（Webhook 接收/發送、LINE Login）已經完成
- 作為獨立外掛運作時沒有技術債
- 與 buygo-plus-one-dev 的整合已經完成（通過 Hooks 機制）
- 已建立 Skills 文件供第三方開發者串接使用

---

## 建議下一步

1. **如果要完成 v0.2 Milestone:**
   - 執行 `/gsd:discuss-phase 12` 規劃 Profile Sync
   - 或 `/gsd:discuss-phase 13` 規劃前台整合

2. **如果認為核心功能已足夠:**
   - 可以將 Phase 12-15 延後到 v0.3
   - 更新 ROADMAP.md 標記為 "Deferred to v0.3"
   - 執行 `/gsd:complete-milestone` 歸檔 v0.2

---

*Generated by Claude Code - 2026-01-31*
