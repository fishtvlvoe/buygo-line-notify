# Phase 13 前台整合驗證檢查清單

## 測試環境

- **測試網站**: https://test.buygo.me
- **測試日期**: 待測試
- **測試人員**: 待定

## 1. 登入按鈕顯示測試

### 1.1 Fluent Community 登入頁面

**測試步驟**:
1. 登出當前帳號
2. 前往 Fluent Community 登入頁面
3. 檢查是否顯示 LINE 登入按鈕

**預期結果**:
- [ ] 顯示 LINE 登入按鈕
- [ ] 按鈕位置符合後台設定（before/after 表單）
- [ ] 按鈕文字符合後台設定
- [ ] 按鈕樣式正確（LINE 綠色、圖示、文字）

**實際結果**: _待填寫_

---

### 1.2 Ajax Login Modal 登入頁面

**測試步驟**:
1. 登出當前帳號
2. 開啟 Ajax Login Modal（如果有安裝此外掛）
3. 檢查是否顯示 LINE 登入按鈕

**預期結果**:
- [ ] 顯示 LINE 登入按鈕
- [ ] 按鈕位置符合後台設定
- [ ] 按鈕樣式正確

**實際結果**: _待填寫_

**備註**: 如果未安裝 Ajax Login Modal 外掛，可跳過此項測試

---

### 1.3 WordPress 原生登入頁面

**測試步驟**:
1. 登出當前帳號
2. 前往 `/wp-login.php`
3. 檢查是否顯示 LINE 登入按鈕

**預期結果**:
- [ ] 顯示 LINE 登入按鈕
- [ ] 按鈕位置符合後台設定（在密碼輸入框 before/after）
- [ ] 按鈕樣式正確

**實際結果**: _待填寫_

---

### 1.4 [buygo_line_login] Shortcode

**測試步驟**:
1. 建立測試頁面，插入 `[buygo_line_login]`
2. 登出狀態訪問該頁面
3. 檢查按鈕顯示
4. 建立測試頁面，插入 `[buygo_line_login button_text="使用 LINE 登入" redirect_url="/my-account/"]`
5. 檢查自訂參數是否生效

**預期結果**:
- [ ] 基本 shortcode 正常顯示
- [ ] 自訂按鈕文字生效
- [ ] 自訂 redirect_url 參數生效
- [ ] 已登入狀態訪問時不顯示按鈕（預設）
- [ ] `show_when_logged_in="yes"` 時顯示「您已登入」訊息

**實際結果**: _待填寫_

---

## 2. 綁定狀態顯示測試

### 2.1 WooCommerce 我的帳號頁面

**測試步驟**:
1. 使用未綁定 LINE 的帳號登入
2. 前往「我的帳號」頁面
3. 檢查綁定狀態區塊

**預期結果（未綁定狀態）**:
- [ ] 顯示「LINE 帳號綁定」標題
- [ ] 顯示說明文字
- [ ] 顯示「綁定 LINE 帳號」按鈕
- [ ] 按鈕樣式正確

**測試步驟**:
1. 使用已綁定 LINE 的帳號登入
2. 前往「我的帳號」頁面
3. 檢查綁定狀態區塊

**預期結果（已綁定狀態）**:
- [ ] 顯示 LINE 頭像（圓形）
- [ ] 顯示 LINE 顯示名稱
- [ ] 顯示 LINE UID
- [ ] 顯示綁定日期
- [ ] 顯示「解除綁定」按鈕
- [ ] 樣式正確

**實際結果**: _待填寫_

---

### 2.2 WordPress 後台個人資料頁面

**測試步驟**:
1. 登入後台
2. 前往「使用者 > 個人資料」
3. 檢查 LINE 綁定狀態區塊

**預期結果**:
- [ ] 未綁定時顯示「綁定 LINE 帳號」按鈕
- [ ] 已綁定時顯示頭像、名稱、UID、日期
- [ ] 已綁定時顯示「解除綁定」按鈕
- [ ] 樣式與前台一致

**實際結果**: _待填寫_

---

## 3. 功能測試

### 3.1 LINE 登入流程

**測試步驟**:
1. 登出當前帳號
2. 點擊任意位置的 LINE 登入按鈕
3. 應跳轉到 LINE 授權頁面
4. 在 LINE 授權頁面點擊「同意」
5. 應回跳到原始網站

**預期結果**:
- [ ] 點擊按鈕後跳轉到 LINE 授權頁面
- [ ] 授權頁面顯示正確的 Channel 資訊
- [ ] 授權後正確回跳到網站
- [ ] 回跳後自動登入（已註冊用戶）
- [ ] 回跳後跳轉到正確的 redirect_url

**實際結果**: _待填寫_

---

### 3.2 綁定 LINE 帳號流程

**測試步驟**:
1. 使用未綁定 LINE 的帳號登入
2. 前往「我的帳號」頁面
3. 點擊「綁定 LINE 帳號」按鈕
4. 在 LINE 授權頁面點擊「同意」
5. 回跳後檢查綁定狀態

**預期結果**:
- [ ] 點擊按鈕後跳轉到 LINE 授權頁面
- [ ] 授權後正確回跳
- [ ] 回跳後綁定狀態更新為「已綁定」
- [ ] 顯示 LINE 頭像、名稱、UID、日期
- [ ] 資料庫中建立綁定記錄

**實際結果**: _待填寫_

---

### 3.3 解除綁定流程

**測試步驟**:
1. 使用已綁定 LINE 的帳號登入
2. 前往「我的帳號」頁面
3. 點擊「解除綁定」按鈕
4. 在確認對話框點擊「確定」
5. 檢查綁定狀態更新

**預期結果**:
- [ ] 點擊按鈕顯示確認對話框
- [ ] 對話框文字正確（警告會刪除綁定）
- [ ] 確認後發送 AJAX 請求
- [ ] 成功後頁面重新載入
- [ ] 綁定狀態更新為「未綁定」
- [ ] 資料庫中綁定記錄被刪除
- [ ] user_meta 中的 avatar 快取被清除

**實際結果**: _待填寫_

---

### 3.4 權限檢查

**測試步驟**:
1. 使用一般用戶帳號（subscriber）
2. 嘗試解除綁定（應該成功 - 自己的帳號）
3. 嘗試透過修改 POST 參數解除其他用戶的綁定（應該失敗）
4. 使用管理員帳號
5. 嘗試解除其他用戶的綁定（應該成功）

**預期結果**:
- [ ] 一般用戶可以解除自己的綁定
- [ ] 一般用戶無法解除其他用戶的綁定（權限檢查）
- [ ] 管理員可以解除任何用戶的綁定
- [ ] 所有操作都有日誌記錄

**實際結果**: _待填寫_

---

## 4. 樣式一致性測試

### 4.1 按鈕樣式

**檢查項目**:
- [ ] 所有 LINE 登入按鈕使用相同的綠色（#06C755）
- [ ] hover 效果一致（#05b34a）
- [ ] active 效果一致（#049a3f）
- [ ] 圖示大小和位置一致
- [ ] 文字字體、大小、對齊一致
- [ ] 按鈕圓角一致（4px）

**實際結果**: _待填寫_

---

### 4.2 響應式設計

**測試步驟**:
1. 在桌面瀏覽器開啟測試頁面
2. 使用開發者工具切換到手機模式
3. 檢查所有按鈕和區塊的顯示

**預期結果**:
- [ ] 按鈕在手機上寬度 100%
- [ ] 文字不會超出按鈕範圍
- [ ] 綁定狀態區塊在手機上正常顯示
- [ ] 頭像和文字排列正確

**實際結果**: _待填寫_

---

## 5. 錯誤處理測試

### 5.1 網路錯誤

**測試步驟**:
1. 開啟瀏覽器開發者工具
2. 在 Network 面板中模擬離線狀態
3. 點擊 LINE 登入按鈕

**預期結果**:
- [ ] 顯示錯誤訊息（「發生錯誤：Failed to fetch」或類似）
- [ ] 按鈕恢復可點擊狀態
- [ ] 載入中文字消失

**實際結果**: _待填寫_

---

### 5.2 授權失敗

**測試步驟**:
1. 在 LINE 授權頁面點擊「取消」
2. 檢查回跳後的狀態

**預期結果**:
- [ ] 回跳到原始頁面或錯誤頁面
- [ ] 顯示適當的錯誤訊息（如果有）
- [ ] 用戶仍保持登出狀態

**實際結果**: _待填寫_

---

## 6. 整合測試總結

### 測試結果統計

- **通過項目**: ___ / ___
- **失敗項目**: ___ / ___
- **跳過項目**: ___ / ___

### 發現的問題

_列出測試中發現的所有問題_

### 待修正項目

_列出需要修正的項目和優先級_

### 測試結論

_整體評估前台整合是否達到上線標準_

---

## 附錄：測試截圖

_可以在測試過程中截圖並附在此處_
