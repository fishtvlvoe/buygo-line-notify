# buygo-line-notify 後台 UI 設計需求文件

> 給 Pencil 的設計規格說明
>
> 最後更新：2026-01-31

---

## 📋 專案概述

為 WordPress 外掛 `buygo-line-notify` 設計一個專業的後台管理介面。

**目標**：讓管理者能輕鬆配置所有 LINE 整合功能，無需修改程式碼。

**使用者**：
- 外掛管理員（技術背景）
- 客戶（可能無技術背景）
- 開發團隊成員

---

## 🎨 設計參考

### 參考對象

**Nextend Social Login**（以下簡稱 NSL）

**參考重點**：
- ✅ Tab 導航的組織方式
- ✅ 藍色標題列的視覺風格
- ✅ 清晰的設定分類邏輯
- ✅ 專業的表單佈局

**重要約束**：
- ❌ 不要照搬 NSL 的設計
- ✅ 需要有自己的獨特風格
- ✅ 可以參考概念但要重新詮釋

**參考截圖**：
- 我會另外提供 5 張 NSL 後台截圖
- 可以參考現有 buygo-line-notify 後台（如需要）

---

## 🏗️ 整體結構

### 頁面架構

```
WordPress 後台
│
└── LINE 設定（頂層選單項目）
    │
    ├── 藍色標題列
    │   ├── Logo（LINE 圖示或自訂）
    │   └── 頁面標題：「LINE 設定」
    │
    ├── Tab 導航列（水平排列）
    │   ├── [入門]
    │   ├── [設定]
    │   ├── [按鈕]
    │   ├── [同步數據]
    │   ├── [用法]
    │   └── [LIFF]
    │
    └── Tab 內容區域
        └── 根據選中的 Tab 顯示對應內容
```

### 視覺層級

1. **藍色標題列**（固定在頂部）
2. **Tab 導航**（緊接在標題列下方）
3. **內容區域**（白色背景，包含設定表單）

---

## 📑 各 Tab 詳細內容

### Tab 1：入門

**用途**：幫助用戶完成首次設定

#### 內容區塊

**1. 歡迎訊息**
```
┌─────────────────────────────────────┐
│ 🎉 歡迎使用 LINE 設定                │
│                                     │
│ 透過此介面，您可以輕鬆設定 LINE 整合 │
│ 功能，無需修改任何程式碼。          │
│                                     │
│ [開始設定] 按鈕                      │
└─────────────────────────────────────┘
```

**2. 設定步驟指南**（步驟卡片，編號 1-4）

```
┌─ 步驟 1：建立 LINE 開發者帳號 ──────┐
│                                     │
│ 前往 LINE Developers 建立免費帳號   │
│                                     │
│ [前往 LINE Developers →] 外部連結   │
└─────────────────────────────────────┘

┌─ 步驟 2：取得 Channel 資訊 ────────┐
│                                     │
│ 在 LINE Developers Console 中：    │
│ 1. 建立 Messaging API Channel      │
│ 2. 取得 Channel Access Token       │
│ 3. 取得 Channel Secret             │
│                                     │
│ [查看教學截圖 ▼] 可摺疊區域          │
└─────────────────────────────────────┘

┌─ 步驟 3：設定 Webhook URL ─────────┐
│                                     │
│ 將此 URL 填入 LINE Console：       │
│                                     │
│ ┌───────────────────────┬────────┐ │
│ │ https://example.com/... │ [複製] │ │
│ └───────────────────────┴────────┘ │
└─────────────────────────────────────┘

┌─ 步驟 4：測試連線 ─────────────────┐
│                                     │
│ 確認設定是否正確                    │
│                                     │
│ [測試 Messaging API] 按鈕           │
│ [測試 LINE Login] 按鈕              │
│                                     │
│ 【狀態顯示區域】                    │
│ ✓ Messaging API 連線成功           │
│ ✗ LINE Login 尚未設定               │
└─────────────────────────────────────┘
```

**3. 常見問題**（Accordion / FAQ）
```
▼ 如何取得 Channel Access Token？
  [展開後的答案內容]

▼ Webhook 設定失敗怎麼辦？
  [展開後的答案內容]

▼ 如何測試 LINE Login 功能？
  [展開後的答案內容]
```

---

### Tab 2：設定

**用途**：核心功能的詳細配置

#### 內容區塊

**1. LINE Messaging API 設定**
```
┌─ LINE Messaging API ───────────────┐
│                                     │
│ Channel Access Token *              │
│ ┌─────────────────────────────────┐ │
│ │ ••••••••••••••••••••     [顯示] │ │
│ └─────────────────────────────────┘ │
│                                     │
│ Channel Secret *                    │
│ ┌─────────────────────────────────┐ │
│ │ ••••••••••••••••••••     [顯示] │ │
│ └─────────────────────────────────┘ │
│                                     │
│         [儲存設定] 按鈕              │
└─────────────────────────────────────┘
```

**2. LINE Login 設定**
```
┌─ LINE Login ───────────────────────┐
│                                     │
│ Login Channel ID *                  │
│ ┌─────────────────────────────────┐ │
│ │                                 │ │
│ └─────────────────────────────────┘ │
│                                     │
│ Login Channel Secret *              │
│ ┌─────────────────────────────────┐ │
│ │ ••••••••••••••••••••     [顯示] │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 登入後跳轉 URL                      │
│ ┌─────────────────────────────────┐ │
│ │ /my-account                     │ │
│ └─────────────────────────────────┘ │
│ 留空則使用預設（網站首頁）          │
│                                     │
│         [儲存設定] 按鈕              │
└─────────────────────────────────────┘
```

**3. Email 設定**
```
┌─ Email 設定 ──────────────────────┐
│                                     │
│ ☑ 擷取用戶 Email                   │
│                                     │
│ Email 來源：                        │
│ ◉ 從 LINE Profile 自動取得          │
│ ○ 要求用戶手動輸入                  │
│                                     │
│ ☑ Email 為必填欄位                 │
│   （未提供 Email 無法完成註冊）     │
│                                     │
│         [儲存設定] 按鈕              │
└─────────────────────────────────────┘
```

**4. 外掛整合**
```
┌─ 外掛整合 ────────────────────────┐
│                                     │
│ ☑ 啟用 FluentCart 整合              │
│   在客戶檔案頁面顯示 LINE 綁定狀態  │
│                                     │
│ ☐ 啟用 WooCommerce 整合             │
│   在我的帳號頁面顯示 LINE 登入      │
│                                     │
│ ☐ 啟用其他登入外掛整合              │
│   與 WordPress 標準登入流程整合     │
│                                     │
│         [儲存設定] 按鈕              │
└─────────────────────────────────────┘
```

**UI 細節**：
- 每個區塊之間有明顯間隔（24px）
- 敏感欄位（Secret、Token）預設隱藏，點擊「顯示」才顯示明文
- 必填欄位標註 `*` 符號
- 每個區塊有獨立的「儲存設定」按鈕

---

### Tab 3：按鈕

**用途**：控制前台 LINE 登入按鈕的外觀

#### 內容區塊

**1. 按鈕位置設定**
```
┌─ 按鈕顯示位置 ────────────────────┐
│                                     │
│ 登入表單：                          │
│ ◉ 顯示在表單上方                    │
│ ○ 顯示在表單下方                    │
│ ○ 不顯示                            │
│                                     │
│ 註冊表單：                          │
│ ○ 顯示在表單上方                    │
│ ◉ 顯示在表單下方                    │
│ ○ 不顯示                            │
│                                     │
│ ☐ 使用自訂位置（Shortcode）         │
│   勾選後在下方顯示 Shortcode 說明   │
│                                     │
│         [儲存設定] 按鈕              │
└─────────────────────────────────────┘
```

**2. 按鈕文字自訂**
```
┌─ 按鈕文字 ────────────────────────┐
│                                     │
│ 登入按鈕文字                        │
│ ┌─────────────────────────────────┐ │
│ │ 使用 LINE 登入                  │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 註冊按鈕文字                        │
│ ┌─────────────────────────────────┐ │
│ │ 使用 LINE 註冊                  │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 綁定按鈕文字                        │
│ ┌─────────────────────────────────┐ │
│ │ 綁定 LINE 帳號                  │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 解綁按鈕文字                        │
│ ┌─────────────────────────────────┐ │
│ │ 解除 LINE 綁定                  │ │
│ └─────────────────────────────────┘ │
│                                     │
│         [儲存設定] 按鈕              │
└─────────────────────────────────────┘
```

**3. 按鈕樣式與預覽**
```
┌─ 按鈕樣式 ────────────────────────┐
│                                     │
│ 選擇樣式：                          │
│ ◉ LINE 官方（綠色 #06C755）        │
│ ○ 簡約黑白                          │
│ ○ 自訂樣式（CSS class）            │
│                                     │
│ 【即時預覽區域】                    │
│ ┌───────────────────────────────┐   │
│ │                                 │   │
│ │   [🔲 使用 LINE 登入]           │   │
│ │                                 │   │
│ └───────────────────────────────┘   │
│                                     │
│         [儲存設定] 按鈕              │
└─────────────────────────────────────┘
```

---

### Tab 4：同步數據

**用途**：設定 LINE Profile 與 WordPress 的資料同步

#### 內容區塊

**1. 同步設定**
```
┌─ 同步設定 ────────────────────────┐
│                                     │
│ ☑ 登入時自動同步 LINE Profile       │
│                                     │
│ 同步欄位：                          │
│ ☑ 顯示名稱（Display Name）         │
│ ☑ 頭像（Profile Picture）          │
│ ☑ Email                            │
│                                     │
│ ☐ 定期同步（每日一次）              │
│                                     │
│         [儲存設定] 按鈕              │
└─────────────────────────────────────┘
```

**2. 衝突處理**
```
┌─ 資料衝突處理策略 ────────────────┐
│                                     │
│ 當 WordPress 資料與 LINE 不一致時： │
│                                     │
│ ◉ LINE 資料優先                     │
│   自動覆蓋 WordPress 現有資料       │
│                                     │
│ ○ WordPress 資料優先                │
│   保留 WordPress 現有資料不變       │
│                                     │
│ ○ 手動處理                          │
│   不自動覆蓋，由管理員決定          │
│                                     │
│         [儲存設定] 按鈕              │
└─────────────────────────────────────┘
```

**3. 同步記錄**（表格）
```
┌─ 最近同步記錄 ────────────────────┐
│                                     │
│ ┌─────┬────────┬──────┬──────┐     │
│ │用戶 │LINE名稱│同步時間│狀態│     │
│ ├─────┼────────┼──────┼──────┤     │
│ │Alice│艾莉絲  │5分鐘前│ ✓   │     │
│ │Bob  │鮑伯    │1小時前│ ✓   │     │
│ │Carol│卡蘿    │2小時前│ ✗   │     │
│ └─────┴────────┴──────┴──────┘     │
│                                     │
│ [顯示全部記錄] [清除記錄] 按鈕      │
└─────────────────────────────────────┘
```

---

### Tab 5：用法

**用途**：Shortcode 和 API 使用說明文檔

#### 內容區塊

**1. Shortcode：LINE 登入按鈕**
```
┌─ LINE 登入按鈕 ───────────────────┐
│                                     │
│ 基本用法：                          │
│ ┌─────────────────────────────────┐ │
│ │ [buygo_line_login]              │ │
│ └─────────────────────────────────┘ │
│                           [複製] 按鈕│
│                                     │
│ 可用參數：                          │
│ • redirect="URL" - 登入後跳轉位置   │
│ • text="文字" - 自訂按鈕文字        │
│ • style="樣式" - 按鈕樣式           │
│                                     │
│ 範例：                              │
│ ┌─────────────────────────────────┐ │
│ │ [buygo_line_login               │ │
│ │   redirect="/my-account"        │ │
│ │   text="LINE 快速登入"]         │ │
│ └─────────────────────────────────┘ │
│                           [複製] 按鈕│
└─────────────────────────────────────┘
```

**2. Shortcode：LINE 綁定狀態**
```
┌─ LINE 綁定狀態顯示 ───────────────┐
│                                     │
│ 基本用法：                          │
│ ┌─────────────────────────────────┐ │
│ │ [buygo_line_binding]            │ │
│ └─────────────────────────────────┘ │
│                           [複製] 按鈕│
│                                     │
│ 說明：                              │
│ 顯示當前用戶的 LINE 綁定狀態，      │
│ 包含綁定/解綁按鈕。                 │
└─────────────────────────────────────┘
```

**3. Shortcode：註冊流程**
```
┌─ LINE 註冊流程 ───────────────────┐
│                                     │
│ 基本用法：                          │
│ ┌─────────────────────────────────┐ │
│ │ [buygo_line_register_flow]      │ │
│ └─────────────────────────────────┘ │
│                           [複製] 按鈕│
│                                     │
│ 說明：                              │
│ 完整的 LINE 註冊流程表單。          │
└─────────────────────────────────────┘
```

**4. REST API 文檔**（摺疊式）
```
▼ REST API 端點

  GET /wp-json/buygo-line-notify/v1/binding-status
  ├─ 說明：取得 LINE 綁定狀態
  ├─ 認證：需要登入
  └─ 回應：JSON { is_linked: true/false, ... }

  POST /wp-json/buygo-line-notify/v1/bind
  ├─ 說明：綁定 LINE 帳號
  ├─ 認證：需要登入
  └─ 參數：line_uid, access_token

  POST /wp-json/buygo-line-notify/v1/unbind
  ├─ 說明：解除 LINE 綁定
  ├─ 認證：需要登入
  └─ 參數：user_id
```

---

### Tab 6：LIFF

**用途**：預留 LIFF 功能設定（目前未啟用）

#### 內容區塊

**1. 功能預告**
```
┌─────────────────────────────────────┐
│                                     │
│      🚧 LIFF 功能即將推出            │
│                                     │
│ LIFF（LINE Front-end Framework）    │
│ 讓您可以在 LINE 中建立網頁應用。    │
│                                     │
│ 此功能目前正在開發中，敬請期待。    │
│                                     │
└─────────────────────────────────────┘
```

**2. 設定預覽**（灰階 disabled 狀態）
```
┌─ LIFF 設定 ───────────────────────┐
│                                     │
│ LIFF ID                             │
│ ┌─────────────────────────────────┐ │
│ │                      (disabled) │ │
│ └─────────────────────────────────┘ │
│                                     │
│ LIFF Endpoint URL                   │
│ ┌─────────────────────────────────┐ │
│ │                      (disabled) │ │
│ └─────────────────────────────────┘ │
│                                     │
│    [儲存設定] 按鈕 (disabled)        │
└─────────────────────────────────────┘
```

---

## 🎨 視覺設計規範

### 色彩系統

#### 主色調
```
藍色（Primary）
├─ 主要：#1344FE 或自選藍色
├─ Hover：深 10%
└─ Active：深 20%
```

#### 功能色
```
成功（Success）：  #4CAF50  綠色
警告（Warning）：  #FFC107  黃色
錯誤（Error）：    #F44336  紅色
LINE 品牌色：      #06C755  LINE 綠
```

#### 中性色
```
背景色：
├─ 主背景：#FFFFFF
├─ 次背景：#F5F5F5
└─ 卡片背景：#FFFFFF

文字色：
├─ 主文字：#333333
├─ 次文字：#666666
└─ 提示文字：#999999

邊框色：
├─ 預設：#DDDDDD
├─ Focus：#1344FE
└─ Error：#F44336
```

### 字體規範

#### 字體家族
```
中文：
- 優先：Microsoft JhengHei（微軟正黑體）
- 備選：Noto Sans TC, sans-serif

英文/數字：
- 一般：系統預設 sans-serif
- 程式碼：'Courier New', Consolas, monospace
```

#### 字體大小
```
H1（頁面標題）：  24px / 1.5em / 600
H2（Tab 標題）：  20px / 1.4em / 600
H3（區塊標題）：  16px / 1.3em / 600
內文（Body）：    14px / 1.6em / 400
小字（Small）：   12px / 1.5em / 400
```

### 間距系統

#### 標準間距
```
XS：4px   - 極小間距
S： 8px   - 小間距
M： 16px  - 標準間距
L： 24px  - 大間距
XL：32px  - 超大間距
```

#### 應用規則
```
區塊之間：      24px (L)
元素之間：      16px (M)
表單欄位間：    16px (M)
內容邊距：      20px
卡片內邊距：    20px
```

### 元件規範

#### 按鈕
```
主要按鈕（Primary）
├─ 背景：#1344FE
├─ 文字：#FFFFFF
├─ 高度：40px
├─ 內邊距：16px 24px
├─ 圓角：4px
└─ Hover：背景深 10%

次要按鈕（Secondary）
├─ 背景：#FFFFFF
├─ 邊框：1px solid #1344FE
├─ 文字：#1344FE
├─ 高度：40px
├─ 內邊距：16px 24px
├─ 圓角：4px
└─ Hover：背景 #F5F5F5

危險按鈕（Danger）
├─ 背景：#F44336
├─ 文字：#FFFFFF
└─ 其他同主要按鈕
```

#### 輸入框
```
文字輸入框（Input / Textarea）
├─ 高度：40px (Input) / auto (Textarea)
├─ 內邊距：10px 12px
├─ 邊框：1px solid #DDDDDD
├─ 圓角：4px
├─ Focus：邊框 #1344FE，陰影 0 0 0 3px rgba(19,68,254,0.1)
└─ Error：邊框 #F44336
```

#### 複選框 / 單選框
```
Checkbox / Radio
├─ 大小：18px × 18px
├─ 邊框：2px solid #DDDDDD
├─ 選中色：#1344FE
└─ 圓角：Checkbox 4px / Radio 50%
```

#### 卡片 / 區塊
```
卡片（Card）
├─ 背景：#FFFFFF
├─ 邊框：1px solid #E0E0E0
├─ 圓角：8px
├─ 陰影：0 2px 4px rgba(0,0,0,0.08)
└─ 內邊距：20px
```

#### 訊息提示框
```
成功訊息
├─ 背景：#E8F5E9（淺綠）
├─ 邊框：1px solid #4CAF50
├─ 圓角：4px
└─ Icon：✓

錯誤訊息
├─ 背景：#FFEBEE（淺紅）
├─ 邊框：1px solid #F44336
├─ 圓角：4px
└─ Icon：✗

警告訊息
├─ 背景：#FFF3E0（淺黃）
├─ 邊框：1px solid #FFC107
├─ 圓角：4px
└─ Icon：⚠

資訊訊息
├─ 背景：#E3F2FD（淺藍）
├─ 邊框：1px solid #2196F3
├─ 圓角：4px
└─ Icon：ℹ
```

---

## 📱 響應式設計

### 斷點
```
Desktop：  > 1024px
Tablet：   768px - 1024px
Mobile：   < 768px
```

### 桌面版（> 1024px）
```
- Tab 內容最大寬度：1200px，居中顯示
- 設定表單：
  ├─ 簡單設定：單欄
  └─ 複雜設定：可考慮雙欄
- Tab 導航：水平排列
```

### 平板版（768px - 1024px）
```
- 所有設定區塊改為單欄
- Tab 導航保持水平
- 內容最大寬度：100%，左右留 20px 邊距
```

### 手機版（< 768px）
```
- Tab 導航改為下拉選單（Dropdown）
- 所有按鈕改為全寬（width: 100%）
- 表單欄位全寬
- 減少內邊距至 16px
```

---

## 🎭 互動狀態

### 載入狀態
```
當資料載入中：
├─ 顯示 Loading Spinner（中央）
├─ 按鈕變為 disabled
└─ 文字顯示「載入中...」
```

### 成功訊息
```
儲存成功：
├─ 綠色提示框出現在頁面頂部
├─ 文字：「✓ 設定已成功儲存」
├─ 2 秒後自動淡出消失
└─ 可手動關閉（× 按鈕）
```

### 錯誤訊息
```
儲存失敗：
├─ 紅色提示框出現在頁面頂部
├─ 文字：「✗ 儲存失敗：[錯誤原因]」
├─ 需手動關閉（× 按鈕）
└─ 錯誤欄位標紅並顯示錯誤提示
```

### 表單驗證
```
即時驗證：
├─ 觸發時機：失去焦點（blur）
├─ 錯誤提示：顯示在欄位下方
├─ 錯誤樣式：紅色邊框 + 紅色文字
└─ 必填欄位：未填寫時顯示「此欄位為必填」
```

### Hover 狀態
```
按鈕 Hover：
├─ 背景色加深 10%
├─ Cursor: pointer
└─ 過渡動畫：0.2s ease

連結 Hover：
├─ 文字顏色加深
└─ 下劃線出現
```

---

## 📐 版面配置參考

### 標題列結構
```
┌─────────────────────────────────────────────────┐
│  🔲 LINE 設定                          [說明] [?] │ ← 藍色背景 (#1344FE)
└─────────────────────────────────────────────────┘
│  [入門] [設定] [按鈕] [同步數據] [用法] [LIFF]   │ ← 白色背景，選中有底線
└─────────────────────────────────────────────────┘
```

### 內容區域結構
```
┌─────────────────────────────────────────────────┐
│                                                   │
│  ┌─ 區塊標題 ─────────────────────────────────┐  │
│  │                                             │  │
│  │  表單欄位                                   │  │
│  │  表單欄位                                   │  │
│  │                                             │  │
│  │              [儲存設定] 按鈕                │  │
│  └─────────────────────────────────────────────┘  │
│                                                   │
│  ┌─ 區塊標題 ─────────────────────────────────┐  │
│  │  ...                                        │  │
│  └─────────────────────────────────────────────┘  │
│                                                   │
└─────────────────────────────────────────────────┘
```

---

## 📦 交付清單

### 設計稿
- [ ] 完整 6 個 Tab 的桌面版設計
- [ ] 平板版設計（至少 1-2 個 Tab）
- [ ] 手機版設計（至少 1-2 個 Tab）
- [ ] 互動狀態設計（Hover、Active、Disabled、Loading）

### 設計規範文件
- [ ] 色彩規範（Hex 色碼表）
- [ ] 字體規範（大小、粗細、行高）
- [ ] 間距規範（Margin、Padding 數值）
- [ ] 元件規範（按鈕、輸入框、卡片樣式）

### 切圖資源（如需要）
- [ ] Icon（SVG 格式）
- [ ] Logo（SVG 格式）
- [ ] 其他圖形資源

### 備註
- 推薦使用 **Figma** 或 **Sketch** 製作
- 設計稿請包含標註（尺寸、間距、色碼）
- 提供可供開發者檢視的原始檔或分享連結

---

## 💬 問題與討論

設計過程中如有任何疑問，請隨時提出：

1. **Tab 排列順序**是否合理？
2. **設定區塊的分組**是否清晰？
3. **互動流程**是否有需要補充的？
4. **視覺風格**有沒有特定偏好？
5. 是否需要提供更多**現有截圖**作為參考？

---

**文件版本**：v1.0
**建立日期**：2026-01-31
**專案聯絡人**：[您的名稱]

---

> 💡 **提示**：此文件為設計指南，實際設計時可以彈性調整，只要保持整體一致性和專業度即可。
